var Cookie={write:function(e,t,o){if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var a="; expires="+i.toGMTString()}else var a="";document.cookie=e+"="+t+a+"; path=/"},read:function(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var a=o[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},erase:function(e){this.write(e,"",-1)}},HaxBall={showNotice:function(e){Element.addClassName(document.body,"show_notice"),$(e).addClassName("open")},hideNotice:function(){$("tips").remove()},initGpuNoticeTimeout:function(){this.replayMode||this.wmodeDirect()&&(this.gpuNoticeTimeout=setTimeout(function(){this.showNotice("gpu_notice")}.bind(this),5e3))},gameWorking:function(){this.hideNotice()},wmodeDirect:function(){var e=swfobject.getQueryParamValue("gpu");return"off"==e?(this.disableWmodeDirect(),!1):"on"==e?(this.enableWmodeDirect(),!0):"off"==Cookie.read("gpu")?!1:!0},enableWmodeDirect:function(){Cookie.erase("gpu")},disableWmodeDirect:function(){Cookie.write("gpu","off",365)},embed:function(){var e="haxball.swf",t=swfobject.getQueryParamValue("replay"),o={token:"hax"},i={bgcolor:"#939e7f",allowScriptAccess:"always"},a={id:"haxball"};this.wmodeDirect()&&(i.wmode="direct",o.wmode_direct="yes"),t.match(/^\d+$/)?(e="replay/"+t+".swf",location.hash.match(/^#.+/)&&(o.replayurl=location.hash.substr(1)),this.replayMode=!0):swfobject.getQueryParamValue("roomid")&&(o.roomid=swfobject.getQueryParamValue("roomid"),swfobject.getQueryParamValue("pass")&&(o.pass=swfobject.getQueryParamValue("pass"))),swfobject.embedSWF(e,"no_flash","100%","100%","10.0.0","expressInstall.swf",o,i,a)}};